(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const w of r.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&i(w)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();class d{static background="rgb(237, 56, 57)";static box={basic:"#d9ad9f",light1:"#efd5ce",light2:"#e8c2b7",dark:"#ce9b8c"};static screen={light:"#e0e0e0",middle:"#e0e2e0",dark:"#cdd3cd",shadow:"#b9c9b9"};static button={light:"#c2cec2",dark:"#a4ada4"};static shadow="rgb(164, 173, 164, 0.6)";static bank="#ce741a";static house=["#a00808","grey"]}class I{constructor(s,t,i,a){this.context=s,this.start=t,this.size=i,this.color=a}drawGradient(){const s=this.context.createLinearGradient(this.start[0],this.start[1],this.size[0],this.size[1]);return s.addColorStop(0,this.color[0]),s.addColorStop(.5,this.color[1]),s.addColorStop(1,this.color[2]),s}}class B{constructor(s,t,i,a){this.context=s,this.start=t,this.end=i,this.color=a}draw(){const s=this.context.createRadialGradient(this.start[0],this.start[1],this.start[2],this.end[0],this.end[1],this.end[2]);return s.addColorStop(0,this.color[0]),s.addColorStop(1,this.color[1]),s}}class v{roundRect(s,t,i,a,r,w,m){s.strokeStyle=r,w&&(s.fillStyle=r),s.lineWidth=m,s.beginPath(),s.moveTo(t[0]+a,t[1]),s.arcTo(t[0]+i[0],t[1],t[0]+i[0],t[1]+i[1],a),s.arcTo(t[0]+i[0],t[1]+i[1],t[0],t[1]+i[1],a),s.arcTo(t[0],t[1]+i[1],t[0],t[1],a),s.arcTo(t[0],t[1],t[0]+i[0],t[1],a),s.closePath(),s.stroke(),w&&s.fill()}triangleBoard(s,t,i,a){s.fillStyle=a,s.beginPath(),s.moveTo(t[0],t[1]),s.lineTo(i[0],i[1]),s.lineTo(300,200),s.closePath(),s.fill()}}class p{constructor(s,t,i,a){this.center=s,this.radius=t,this.fill=i,this.stroke=a}draw(s){s.fillStyle=this.fill,this.stroke&&(s.strokeStyle=this.stroke[0],s.lineWidth=this.stroke[1]),s.beginPath(),s.arc(this.center[0],this.center[1],this.radius,0,Math.PI*2),s.fill(),s.stroke()}}class u{constructor(s,t,i){this.x=s,this.y=t,this.radius=i}draw(s){let t=new B(s,[this.x,this.y-15,5],[this.x,this.y-5,20],["rgba(255, 255, 255, 0.8)","rgba(255, 255, 255, 0"]);new p([this.x,this.y],this.radius+8,"#cdd3cd",["gray",1]).draw(s),new p([this.x,this.y+3],this.radius+3,"gray",["rgba(255, 255, 255, 0)",0]).draw(s),new p([this.x,this.y],this.radius+3,"red",[]).draw(s),new p([this.x,this.y+1],this.radius+1,"#ce0606",[]).draw(s),new p([this.x,this.y],this.radius,"red",[]).draw(s),new p([this.x,this.y],this.radius,t.draw(),[]).draw(s),s.beginPath(),s.fillStyle="red",s.filter="blur(3px)",s.arc(this.x,this.y+1,this.radius-2,0,Math.PI*2),s.fill(),s.closePath(),s.filter="none",s.beginPath(),s.fillStyle=t.draw(),s.filter="blur(2px)",s.arc(this.x-5,this.y-12,5,0,Math.PI*2),s.fill(),s.filter="none",s.closePath()}}class f{constructor(s,t,i){this.x=s,this.y=t,this.k=i}draw(s){s.fillStyle="black",s.beginPath(),s.moveTo(this.x,this.y),s.lineTo(this.x+10*this.k,this.y),s.lineTo(this.x+5*this.k,this.y-30*this.k),s.closePath(),s.fill()}rotation(s,t){s.translate(this.x+5*this.k,this.y-30*this.k),s.rotate(t),s.translate(-(this.x+5*this.k),-(this.y-30*this.k))}}class P{constructor(s,t,i){this.context=s,this.x=t,this.y=i,this.settings=new v}draw(){this.settings.roundRect(this.context,[this.x,this.y],[25,16],6,"grey",!1,1),this.settings.roundRect(this.context,[this.x+1,this.y+1],[23,14],5,"lightgrey",!0),this.settings.roundRect(this.context,[this.x+4,this.y+3],[19,10],3,d.button.light,!0),this.settings.roundRect(this.context,[this.x+3,this.y+3],[19,10],3,d.button.dark,!0),this.context.filter="blur(1px)",this.settings.roundRect(this.context,[this.x+4,this.y+3],[15,6],3,d.button.light,!0),this.context.filter="none"}}class E{constructor(s,t,i,a,r){this.context=s,this.x=t,this.y=i,this.links=a,this.color=r}draw(){this.context.beginPath(),this.context.strokeStyle=this.color,this.context.lineWidth=5,this.context.moveTo(this.x,this.y),this.links?(this.context.lineTo(this.x+20,this.y),this.context.lineTo(this.x+70,this.y+35),this.context.moveTo(this.x+55,this.y+23),this.context.lineTo(this.x+55,this.y+43)):(this.context.lineTo(this.x-20,this.y),this.context.lineTo(this.x-70,this.y+35),this.context.moveTo(this.x-55,this.y+23),this.context.lineTo(this.x-55,this.y+43)),this.context.stroke(),this.context.closePath()}}class L{constructor(s,t,i,a){this.context=s,this.x=t,this.y=i,this.color=a}draw(){this.context.beginPath(),this.context.strokeStyle=this.color[1],this.context.fillStyle=this.color[1],this.context.lineWidth=2,this.context.fillRect(this.x+39,this.y-10,5,20),this.context.strokeRect(this.x+44,this.y-10,5,20),this.context.closePath(),this.context.beginPath(),this.context.lineWidth=4,this.context.moveTo(this.x+49,this.y-10),this.context.lineTo(this.x+60,this.y-20),this.context.lineTo(this.x+60,this.y+15),this.context.lineTo(this.x+49,this.y+10),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.lineWidth=2,this.context.moveTo(this.x+49,this.y),this.context.lineTo(this.x+60,this.y),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.strokeStyle=this.color[0],this.context.fillStyle=this.color[0],this.context.lineWidth=5,this.context.moveTo(this.x,this.y),this.context.lineTo(this.x+20,this.y-25),this.context.lineTo(this.x+48,this.y+20),this.context.stroke(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(this.x+26,this.y-15),this.context.lineTo(this.x+39,this.y-15),this.context.lineTo(this.x+39,this.y+10),this.context.fill(),this.context.closePath()}}class T{constructor(s,t,i,a){this.x=s,this.y=t,this.angle=i}drawBegin(s,t){s.save(),s.beginPath(),s.lineWidth=2,s.strokeStyle=t,s.translate(this.x,this.y),s.rotate(this.angle),s.moveTo(0,0)}drawBasic(s){s.bezierCurveTo(0,0,3,-10,6,0),s.bezierCurveTo(6,0,7,4,3,4),s.bezierCurveTo(3,4,-1,4,0,0)}drawEnd(s){s.closePath(),s.stroke(),s.restore()}draw(s,t){this.drawBegin(s,t),this.drawBasic(s),this.drawEnd(s)}}class c{constructor(s,t,i){this.x=s,this.y=t,this.k=i,this.activeColor="black",this.passiveColor=d.screen.shadow,this.drawEggs=[],this.createBank()}static setPlayEggs(s){c.playEggs=s}createBank(){let s=Math.PI;for(let i=-2;i<=3;i++)if(i!=0){const a=new T(this.x+=13*this.k,this.y+=9.1,s/i);this.drawEggs.push(a)}const t=new T(this.x,290,0);this.drawEggs.push(t)}draw(s,t){for(let i=0;i<this.drawEggs.length-1;i++)this.drawEggs[i].draw(s,this.passiveColor);c.playEggs.forEach(i=>{i[1]===t&&this.drawEggs[i[0]].draw(s,"black")})}}class g{static canvas={width:601,height:401};static keyBoardKeys=["r","f","u","j"]}class M{constructor(s){this.game=s,this.gameboard=new v,this.width=g.canvas.width,this.height=g.canvas.height}update(){}draw(s){s.fillStyle=d.background,s.fillRect(0,0,this.width,this.height);let t=new I(s,[0,0],[this.width,this.height],[d.box.basic,"white",d.box.basic]);(()=>{this.gameboard.roundRect(s,[14,14],[this.width-28,this.height-28],10,"white",!1,8),this.gameboard.roundRect(s,[17,17],[this.width-34,this.height-34],10,"black",!1,3),this.gameboard.roundRect(s,[19,19],[this.width-38,this.height-38],10,t.drawGradient(),!0)})(),(()=>{this.gameboard.triangleBoard(s,[105,50],[this.width-105,50],d.box.light1),this.gameboard.triangleBoard(s,[this.width-105,50],[this.width-105,this.height-50],d.box.light2),this.gameboard.triangleBoard(s,[this.width-105,this.height-50],[105,this.height-50],d.box.dark),this.gameboard.triangleBoard(s,[105,this.height-50],[105,50],d.box.light2)})(),(()=>{this.gameboard.roundRect(s,[125,65],[this.width-250,this.height-130],3,t.drawGradient(),!0),this.gameboard.roundRect(s,[135,75],[this.width-270,this.height-150],20,"black",!1,2);let b=new I(s,[154,94],[this.width-308,this.height-188],[d.screen.light,d.screen.middle,d.screen.dark]);this.gameboard.roundRect(s,[154,94],[this.width-308,this.height-188],10,b.drawGradient(),!0),s.filter="blur(2px)",s.strokeStyle=d.button.dark,s.lineWidth=5,s.beginPath(),s.moveTo(155,98),s.lineTo(450,98),s.stroke(),s.filter="none",this.gameboard.roundRect(s,[155,95],[this.width-310,this.height-190],3,"black",!1,4),this.gameboard.roundRect(s,[150,90],[this.width-300,this.height-180],10,"lightgray",!1,5),this.gameboard.roundRect(s,[151,91],[this.width-302,this.height-182],10,"white",!1,4)})(),(()=>{[new u(70,320,10),new u(70,220,10),new u(this.width-70,320,10),new u(this.width-70,220,10)].forEach(o=>{o.draw(s)});let k=[new f(25,210,1),new f(this.width-35,210,1),new f(this.width-35,390,1),new f(25,390,1)];for(let o=0;o<4;o++)s.save(),k[o].rotation(s,-Math.PI/4+o*Math.PI/2),k[o].draw(s),s.restore()})(),(()=>{let b=new P(s,this.width-70,60),k=new P(s,this.width-70,90),o=new P(s,this.width-70,120);b.draw(),k.draw(),o.draw(),s.font="10px Arial",s.fillStyle="black",s.fillText("Game A",this.width-75,85),s.fillText("Game B",this.width-75,115),s.fillText("Menu",this.width-68,145)})()}}class R{constructor(s){this.position=1,this.game=s,this.positions=[[228,185],[228,185],[160,185],[160,185]],this.player=[this.playerLT=new Image,this.playerLB=new Image,this.playerRT=new Image,this.playerRB=new Image],this.playerLT.src="../images/WolfLT.png",this.playerLB.src="../images/WolfLB.png",this.playerRT.src="../images/WolfRT.png",this.playerRB.src="../images/WolfRB.png"}setPosition(s){this.position=s}update(){}draw(s){let t=this.positions[this.position-1][0],i=this.positions[this.position-1][1];s.drawImage(this.player[this.position-1],t,i,204,110)}}class z{isBunny=!1;constructor(){this.pastTime=0,this.color=d.screen.shadow,this.bunny=new Image,this.link="../images/rabbit_shadow.svg"}draw(s){this.bunny.src=this.link,s.drawImage(this.bunny,215,100,80,70)}update(s){let t=s-this.pastTime;this.link==="../images/rabbit_shadow.svg"?t>16e3&&(this.link="../images/rabbit.svg",this.pastTime=s,this.isBunny=!0):t>8e3&&(this.link="../images/rabbit_shadow.svg",this.pastTime=s,this.isBunny=!1)}}class G{constructor(s){this.game=s}setCanvasSize(s){this.canvas=s}menuRedButtonPress(s,t,i,a,r){a>=270&&a<=280&&r>=t&&r<=i&&this.game.onMouseEvent(s+3)}grayButtonPress(s,t,i,a,r){a>=this.canvas.width-70&&a<=this.canvas.width-50&&r>=t&&r<=i&&this.game.onMouseEvent(s)}addEventListener(){window.addEventListener("keydown",i=>{switch(i.key){case g.keyBoardKeys[0]:this.game.onInputEvent(1);break;case g.keyBoardKeys[1]:this.game.onInputEvent(2);break;case g.keyBoardKeys[2]:this.game.onInputEvent(3);break;case g.keyBoardKeys[3]:this.game.onInputEvent(4);break}});const s=this.canvas.getBoundingClientRect(),t=i=>{const a=i.clientX-s.left,r=i.clientY-s.top;this.grayButtonPress(1,60,75,a,r),this.grayButtonPress(2,90,105,a,r),this.grayButtonPress(3,120,135,a,r),this.menuRedButtonPress(1,140,160,a,r),this.menuRedButtonPress(2,180,200,a,r),this.menuRedButtonPress(3,220,240,a,r),this.menuRedButtonPress(4,260,280,a,r)};window.addEventListener("click",t.bind(this))}}class h{static drawElemLang(s,t,i,a,r){s.save(),s.beginPath(),s.fillStyle=r,s.translate(t,i),s.rotate(a),s.moveTo(0,0),s.lineTo(3,3),s.lineTo(3,12),s.lineTo(0,15),s.closePath(),s.fill(),s.restore(),s.save(),s.beginPath()}static drawElemShort(s,t,i,a,r){s.save(),s.beginPath(),s.fillStyle=r,s.translate(t,i),s.rotate(a),s.moveTo(2,-1),s.lineTo(10,-1),s.lineTo(8,1),s.lineTo(4,1),s.closePath(),s.fill(),s.restore()}}class n{static numPositions=[300,316,332,348];static drawShadowNum(s,t,i,a){h.drawElemLang(s,t,i,0,a),h.drawElemLang(s,t,i+15,0,a),h.drawElemLang(s,t+12,i+15,Math.PI,a),h.drawElemLang(s,t+12,i+30,Math.PI,a),h.drawElemShort(s,t,i,0,a),h.drawElemShort(s,t,i+15,0,a),h.drawElemShort(s,t+12,i+15,Math.PI,a),h.drawElemShort(s,t+12,i+30,Math.PI,a)}static draw0(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t,i+15,0,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black")}static draw1(s,t,i){h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black")}static draw2(s,t,i){h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black"),h.drawElemLang(s,t,i+15,0,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black")}static draw3(s,t,i){h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black")}static draw4(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black")}static draw5(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black")}static draw6(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t,i+15,0,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black")}static draw7(s,t,i){h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black")}static draw8(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t,i+15,0,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black")}static draw9(s,t,i){h.drawElemLang(s,t,i,0,"black"),h.drawElemLang(s,t+12,i+15,Math.PI,"black"),h.drawElemLang(s,t+12,i+30,Math.PI,"black"),h.drawElemShort(s,t,i,0,"black"),h.drawElemShort(s,t,i+15,0,"black"),h.drawElemShort(s,t+12,i+15,Math.PI,"black"),h.drawElemShort(s,t+12,i+30,Math.PI,"black")}static numbersVorCaunter=[n.draw0,n.draw1,n.draw2,n.draw3,n.draw4,n.draw5,n.draw6,n.draw7,n.draw8,n.draw9]}class y{constructor(){}static setScoreCount(s){y.scoreCounter=s}static draw(s,t){let i=y.scoreCounter.toString().split("").map(Number),a=0;for(let r=i.length-1;r>=0;r--){const w=i[r],m=n.numbersVorCaunter[w];m(s,n.numPositions[3-a],t),a++}}}class e{static gameB=!1;static playEggs=[[0,0]];static scoreCounter=0;static wolfPoz;static lastEggPoz;static faultTempCounter=0;static isFall=!1;static isBunny;static isStop=[!1,!1];static setBunnyStatus(s){e.isBunny=s}static setWolfPoz(s){e.wolfPoz=s,e.playEggs[0][1]===s-1&&e.playEggs[0][0]===4&&(e.playEggs.shift(),e.scoreCounter++)}static changeBank(){let s,t;if(e.gameB===!1){switch(e.faultTempCounter){case 0:s=1;break;case .5:case 1:s=3;break;case 1.5:case 2:s=0;break;case 2.5:case 3:s=2;break}do t=Math.floor(Math.random()*4);while(t===s)}else t=Math.floor(Math.random()*4);return t}static pastTime=0;static timeOfStatic=500;static refreshedTimes=0;static isGameOver=!1;static update(s){function t(){let a=e.changeBank();e.playEggs.push([0,a]),e.refreshedTimes=0}if(s-e.pastTime>e.timeOfStatic){e.faultTempCounter>=3&&(e.isGameOver=!0);for(let a=0;a<e.playEggs.length;a++)e.playEggs[a][0]++;(e.refreshedTimes===5&&e.scoreCounter>=0||e.refreshedTimes===4&&e.scoreCounter>=5||e.refreshedTimes===3&&e.scoreCounter>=10||e.refreshedTimes===2&&e.scoreCounter>=15||e.refreshedTimes===1&&e.scoreCounter>=700)&&t(),e.refreshedTimes++,e.playEggs.length&&e.playEggs[0][0]===5&&(e.wolfPoz-1===e.playEggs[0][1]?(e.playEggs.shift(),e.scoreCounter++,e.timeOfStatic-=e.timeOfStatic/200):(e.lastEggPoz=e.playEggs[0][1],e.isFall=!0,e.faultTempCounter+=e.isBunny?.5:1,e.playEggs.length=0,s+=2500)),e.scoreCounter%100===0&&e.scoreCounter!==0&&e.scoreCounter!==200&&e.scoreCounter!==500&&e.scoreCounter!==700&&(e.timeOfStatic*=1.2),e.scoreCounter===700&&(e.timeOfStatic*=1.4**(1/6)),(e.scoreCounter===200||e.scoreCounter===500)&&(e.timeOfStatic*=1.5**(1/6),e.isStop[1]===!1&&(e.faultTempCounter=0,e.playEggs.length=0,e.isStop[0]=!0),e.isStop[1]=!0),e.scoreCounter===201&&(e.isStop[1]=!1),e.pastTime=s}}}class S{constructor(s,t,i){this.context=s,this.x=t,this.y=i,this.pastTime=0,this.past2Time=0,this.delay,this.live=new Image,this.live.src="../images/live.svg",this.live_shadow=new Image,this.live_shadow.src="../images/live_shadow.svg"}color;setFaultCounter(s){this.faultTempCounter=s}draw_shadow(s,t,i){s.drawImage(this.live_shadow,t,i,15,15)}draw(s,t,i){s.drawImage(this.live,t,i,15,15)}update(s){let t,i,a=s-this.pastTime;t=this.faultTempCounter-.5,i=this.faultTempCounter+.5,a>1e3&&(this.faultTempCounter%1!==0?this.faultCounter=this.faultCounter===t?i:t:this.faultCounter=this.faultTempCounter,this.pastTime=s)}counter=0;updateWhenStop(s){s-this.pastTime>500&&(this.faultCounter=this.faultCounter===3?0:3,this.pastTime=s,this.counter++),this.counter===6&&(e.isStop[0]=!1,this.counter=0)}}class O{constructor(s){this.game=s,this.settings=new v,this.width=g.canvas.width,this.height=g.canvas.height,this.chicken=[new Image,new Image,new Image,new Image],this.chicken[0].src="../images/chicken1.svg",this.chicken[2].src="../images/chicken3.svg",this.chicken[3].src="../images/chicken4.svg",this.chicken[1].src="../images/chicken2.svg",this.grass=new Image,this.grass.src="../images/Grass.png"}draw(s){s.shadowColor="rgba(0, 0, 0, 0.5)",s.shadowBlur=2,s.shadowOffsetY=3,(a=>{let r=new E(s,160,170,!0,a),w=new E(s,160,230,!0,a);r.draw(),w.draw();let m=new E(s,this.width-160,170,!1,a),b=new E(s,this.width-160,230,!1,a);m.draw(),b.draw()})(d.bank),(a=>{new L(s,160,130,a).draw()})(d.house),s.drawImage(this.chicken[0],158,140,30,30),s.drawImage(this.chicken[2],158,200,30,30),s.drawImage(this.chicken[3],410,135,35,35),s.drawImage(this.chicken[1],415,200,30,30),s.shadowColor="transparent",s.shadowBlur=0,s.shadowOffsetY=0}}class W{buttons=[new u(275,150,3),new u(275,190,3),new u(275,230,3),new u(275,270,3)];triangles=[new f(250,145,.5),new f(295,225,.5),new f(295,305,.5),new f(250,225,.5)];keyBoardKeys=[{key:g.keyBoardKeys[0],y:155},{key:g.keyBoardKeys[1],y:195},{key:g.keyBoardKeys[2],y:235},{key:g.keyBoardKeys[3],y:275}];input=[document.getElementById("input1"),document.getElementById("input2"),document.getElementById("input3"),document.getElementById("input4")];init(s){this.canvas=s,this.input.forEach(t=>{t.style.display="none"})}draw(s){this.buttons.forEach(t=>{t.draw(s)});for(let t=0;t<4;t++)s.save(),this.triangles[t].rotation(s,-Math.PI/4+t*Math.PI/2),this.triangles[t].draw(s),s.restore();s.font="18px Arial",s.fillStyle="black",this.keyBoardKeys.forEach(t=>{s.fillText(`- ${t.key}`,300,t.y)}),s.font="10px Arial",s.fillText("Click on the corresponding button",230,110),s.fillText("to assign new keys",270,125)}inputs(s){const t=this.canvas.getBoundingClientRect(),i=t.left+300,a=t.top+this.keyBoardKeys[s].y-17;let r=this.input[s];r.style.left=i+"px",r.style.top=a+"px",r.placeholder=this.keyBoardKeys[s].key,r.style.display="block",r.addEventListener("input",()=>{this.keyBoardKeys[s].key=r.value,g.keyBoardKeys[s]=r.value})}}class K{constructor(){this.fall1_shadow=new Image,this.fall2_shadow=new Image,this.fall3_shadow=new Image,this.fall4_shadow=new Image,this.fall5_shadow=new Image,this.fall1_shadow.src="../images/1fall _shadow.svg",this.fall2_shadow.src="../images/2fall_shadow.svg",this.fall3_shadow.src="../images/3fall_shadow.svg",this.fall4_shadow.src="../images/4fall_shadow.svg",this.fall5_shadow.src="../images/5fall_shadow.svg",this.bunny_shadow=new Image,this.bunny_shadow.src="../images/rabbit_shadow.svg",this.live_shadow=new S}draw(s){let t=230,i=-355;s.drawImage(this.fall1_shadow,t,280,30,15),s.drawImage(this.fall2_shadow,t-13,270,15,15),s.drawImage(this.fall3_shadow,t-30,280,15,15),s.drawImage(this.fall4_shadow,t-50,280,15,15),s.drawImage(this.fall5_shadow,t-70,280,15,15),s.save(),s.scale(-1,1),s.drawImage(this.fall1_shadow,i-13,280,30,15),s.drawImage(this.fall2_shadow,i-26,270,15,15),s.drawImage(this.fall3_shadow,i-43,280,15,15),s.drawImage(this.fall4_shadow,i-63,280,15,15),s.drawImage(this.fall5_shadow,i-83,280,15,15),s.restore(),s.drawImage(this.bunny_shadow,215,100,80,70);for(let a=0;a<4;a++)n.drawShadowNum(s,300+16*a,110,d.screen.shadow);for(let a=0;a<3;a++)this.live_shadow.draw_shadow(s,347-a*16,150)}}class C{constructor(){this.faultEggsLeft=[[new Image,230,280,30],[new Image,217,270,15],[new Image,200,280,15],[new Image,180,280,15],[new Image,160,280,15]],this.faultEggsLeft[0][0].src="../images/1fall.svg",this.faultEggsLeft[1][0].src="../images/2fall.svg",this.faultEggsLeft[2][0].src="../images/3fall.svg",this.faultEggsLeft[3][0].src="../images/4fall.svg",this.faultEggsLeft[4][0].src="../images/5fall.svg",this.faultEggsRight=[[new Image,-368,280,30,15],[new Image,-381,270,15,15],[new Image,-398,280,15,15],[new Image,-418,280,15,15],[new Image,-438,280,15,15]],this.faultEggsRight[0][0].src="../images/1fall.svg",this.faultEggsRight[1][0].src="../images/2fall.svg",this.faultEggsRight[2][0].src="../images/3fall.svg",this.faultEggsRight[3][0].src="../images/4fall.svg",this.faultEggsRight[4][0].src="../images/5fall.svg",this.pastTime=0,this.poz=0}draw(s){e.isFall&&((e.lastEggPoz===0||e.lastEggPoz===1)&&s.drawImage(this.faultEggsLeft[this.poz][0],this.faultEggsLeft[this.poz][1],this.faultEggsLeft[this.poz][2],this.faultEggsLeft[this.poz][3],15),(e.lastEggPoz===2||e.lastEggPoz===3)&&(s.save(),s.scale(-1,1),s.drawImage(this.faultEggsRight[this.poz][0],this.faultEggsRight[this.poz][1],this.faultEggsRight[this.poz][2],this.faultEggsRight[this.poz][3],15),s.restore()))}update(s){let t=s-this.pastTime;e.isBunny||t>2500&&(e.isFall=!1,this.pastTime=s),e.isBunny&&e.isFall&&t>400&&(this.poz++,this.poz===5&&(e.isFall=!1,e.isBunny=!1,this.poz=0),this.pastTime=s)}}class F{canvas;ctx;wolf=new R(this);bunny=new z;board=new M(this);shadowLayer=new K(this);glass=new O(this);menu=new W;rect=new v;eggBank=[new c(177,153.9,1),new c(177,215,1),new c(423,153.9,-1),new c(423,215,-1)];fallingEgg=new C(this);liveEgg=new S(this.ctx,250,160);inputHandler=new G(this);controller=new e;pastTime=0;isMenuPressed=!0;start(){this.canvas=document.getElementById("2d-canvas"),this.canvas.width=g.canvas.width,this.canvas.height=g.canvas.height,this.ctx=this.canvas.getContext("2d"),this.inputHandler.setCanvasSize(this.canvas),this.menu.init(this.canvas),this.inputHandler.addEventListener(),this.board.draw(this.ctx),this.shadowLayer.draw(this.ctx),this.glass.draw(this.ctx)}startGame(){e.playEggs.length=0,e.scoreCounter=0,e.faultTempCounter=0,e.isGameOver=!1}update(s){e.isStop[0]===!1&&e.update(s),e.isStop[0]===!0&&this.liveEgg.updateWhenStop(s),this.bunny.update(s,this.ctx),c.setPlayEggs(e.playEggs),e.setBunnyStatus(this.bunny.isBunny),y.setScoreCount(e.scoreCounter),this.liveEgg.setFaultCounter(e.faultTempCounter),this.liveEgg.update(s)}draw(){this.board.draw(this.ctx),this.shadowLayer.draw(this.ctx);for(let s=0;s<4;s++)this.eggBank[s].draw(this.ctx,s);this.wolf.draw(this.ctx),this.bunny.draw(this.ctx),y.draw(this.ctx,110),this.fallingEgg.draw(this.ctx);for(let s=0;s<this.liveEgg.faultCounter;s++)this.liveEgg.faultCounter<=3&&this.liveEgg.draw(this.ctx,347-s*16,150);this.glass.draw(this.ctx)}onInputEvent(s){this.wolf.setPosition(s),e.setWolfPoz(s)}onMouseEvent(s){this.menu.input.forEach(t=>{t.style.display="none"}),s===3&&this.isMenuPressed===!0?(this.menu.draw(this.ctx),this.isMenuPressed=!1):s===3&&this.isMenuPressed===!1?(this.isMenuPressed=!0,this.board.draw(this.ctx),this.glass.draw(this.ctx)):(s===1||s===2)&&(this.startGame(),this.animate(),s===2&&(e.gameB=!0)),s>3&&s<=7&&this.menu.inputs(s-4)}animate(s){this.update(s),this.draw(),this.fallingEgg.update(s),e.isGameOver||requestAnimationFrame(t=>this.animate(t))}}const A=new F;window.onload=()=>{A.start()};
